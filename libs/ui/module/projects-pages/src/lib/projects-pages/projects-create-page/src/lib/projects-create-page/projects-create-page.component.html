<div class="w-full h-full">
  <expensesreport-page-content
    [useShadow]="false"
    class="w-full flex justify-center max-w-96 m-auto mt-18"
  >
    <p
      class="text-center text-gray-600 dark:text-gray-400 text-sm font-medium mb-6"
    >
      use the form below to create a new project
    </p>

    <form [formGroup]="projectFormGroup" class="w-full flex flex-col gap-3">
      <expensesreport-form-group>
        <expensesreport-label [id]="'name'" [label]="'name'" />
        <expensesreport-input-text
          [id]="'name'"
          [type]="'name'"
          [formControl]="projectFormGroup.controls['name']"
          [useError]="true"
          [errors]="nameErrors"
          [loading]="loading"
        />
      </expensesreport-form-group>
      <expensesreport-form-group>
        <expensesreport-label [id]="'code'" [label]="'code'" />
        <expensesreport-input-text
          [id]="'code'"
          [type]="'code'"
          [formControl]="projectFormGroup.controls['code']"
          [useError]="true"
          [errors]="codeErrors"
          [loading]="loading"
          (change)="onCodeChange($event)"
        />
      </expensesreport-form-group>
      <expensesreport-form-group>
        <expensesreport-label [id]="'seasons'" [label]="'seasons'" />
        <div class="w-full">
          <p-multiSelect
            optionLabel="label"
            class="multiselect-custom-virtual-scroll multiselect-custom {{
              projectFormGroup.controls['seasons'].errors &&
              projectFormGroup.controls['seasons'].touched
                ? 'invalid'
                : ''
            }}"
            [placeholder]="'Select a season'"
            [formControl]="projectFormGroup.controls['seasons']"
            [options]="itemsSeasons"
            [showToggleAll]="true"
            [selectAll]="selectAllSeasons"
            [virtualScroll]="true"
            [virtualScrollItemSize]="43"
            (onSelectAllChange)="onSelectAllSeasonsChange($event)"
            #msSeasons
          />
          <p
            class="text-red-500 text-xs mt-1"
            *ngIf="
              projectFormGroup.controls['seasons'].errors &&
              projectFormGroup.controls['seasons'].touched
            "
          >
            {{ seasonsErrors['required'] }}
          </p>
        </div>
      </expensesreport-form-group>
      <expensesreport-form-group>
        <expensesreport-label [id]="'departments'" [label]="'departments'" />
        <div class="w-full">
          <p-multiSelect
            optionLabel="label"
            class="multiselect-custom-virtual-scroll multiselect-custom {{
              projectFormGroup.controls['departments'].errors &&
              projectFormGroup.controls['departments'].touched
                ? 'invalid'
                : ''
            }}"
            [placeholder]="'Select a department'"
            [formControl]="projectFormGroup.controls['departments']"
            [options]="itemsDepartments"
            [showToggleAll]="true"
            [selectAll]="selectAllDepartments"
            [virtualScroll]="true"
            [virtualScrollItemSize]="43"
            (onSelectAllChange)="onSelectAllDepartmentsChange($event)"
            #msDepartments
          />
          <p
            class="text-red-500 text-xs mt-1"
            *ngIf="
              projectFormGroup.controls['departments'].errors &&
              projectFormGroup.controls['departments'].touched
            "
          >
            {{ departmentsErrors['required'] }}
          </p>
        </div>
      </expensesreport-form-group>
      <expensesreport-form-group>
        <expensesreport-label [id]="'description'" [label]="'description'" />
        <expensesreport-text-area
          [id]="'description'"
          [formControl]="projectFormGroup.controls['description']"
          [useError]="true"
          [errors]="descriptionErrors"
          [loading]="loading"
        />
      </expensesreport-form-group>

      <div class="mt-10 flex flex-col gap-6">
        <expensesreport-button
          [label]="'create project'"
          [type]="'submit'"
          [loading]="loading"
          [disabled]="disabled"
          [color]="'primary'"
          (onClick)="onSubmit()"
        />
        <expensesreport-button
          [label]="'back'"
          [type]="'button'"
          [color]="'danger'"
          (onClick)="onBack()"
        />
      </div>
    </form>
  </expensesreport-page-content>
</div>
